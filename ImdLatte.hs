module ImdLatte where

import AbsLatte

-- Haskell module generated by the BNF converter

data Register = Mem Integer | RegInt Integer | RegBool Bool | Reg1 | Reg2 | Reg3
  deriving (Eq, Ord, Show, Read)


data QBlock = QBlock Ident [Quadruple] Int
  deriving (Eq, Ord, Show, Read)


type QCode = [Quadruple]

data Quadruple
    = QAdd Register Register
    | QSub Register Register
    | QMul Register Register
    | QDiv Register Register
    | QMod Register Register
    | QAss Register Register
    | QInc Register
    | QDec Register
    | QRet Register
    | QRetV
    | QLab Ident
    | QJmp Ident
    | QJe Ident
    | QJne Ident
    | QJg Ident
    | QJge Ident
    | QJL Ident
    | QJLe Ident
    | QNeg Register
    | QAnd Register Register
    | QOr Register Register
    | QNot Register
    | QCmpLt Register Register
    | QCmpLe Register Register
    | QCmpGt Register Register
    | QCmpGe Register Register
    | QCmpEq Register Register
    | QCmpNe Register Register
    | QFunc Ident
    | QDecl Register
    | QAlloc Register Int
    | QConcat Register Register Register
    | QMov Register Register
    deriving (Eq, Ord, Show, Read)


-- najpierw zaloz, ze nie uzywasz rejestrow ponownie, wszystko zapisuj w zmiennych lokalnych (tu bedzie problem)
-- rozbij na bloki, lista w postaci blok, zmienne lokalne
